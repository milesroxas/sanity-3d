/*
Auto-generated by: https://github.com/pmndrs/gltfjsx
*/

import { useGLTF } from '@react-three/drei';
import { ThreeElements } from '@react-three/fiber';
import { useEffect, useRef } from 'react';
import * as THREE from 'three';
import { GLTF } from 'three-stdlib';

type GLTFResult = GLTF & {
  nodes: {
    Mesh004: THREE.Mesh;
    Mesh004_1: THREE.Mesh;
  };
  materials: {
    Logo: THREE.MeshStandardMaterial;
    Material: THREE.MeshStandardMaterial;
  };
};

export function Logo(
  props: ThreeElements['group'] & {
    className?: string;
    opacity?: number;
  }
) {
  const { nodes, materials } = useGLTF('/models/landing/logo.glb') as unknown as GLTFResult;
  const materialRefs = useRef<THREE.MeshStandardMaterial[]>([]);

  // Set up transparent materials
  useEffect(() => {
    if (materials.Logo && materials.Material) {
      materials.Logo.transparent = true;
      materials.Material.transparent = true;
      materialRefs.current = [materials.Logo, materials.Material];
    }
  }, [materials]);

  // Update opacity when it changes
  useEffect(() => {
    if (props.opacity !== undefined && materialRefs.current.length) {
      materialRefs.current.forEach(material => {
        material.opacity = props.opacity!;
      });
    }
  }, [props.opacity]);

  return (
    <group {...props} dispose={null}>
      <group name="Scene002">
        <group
          name="Logo002"
          position={[-47.805, 34.767, -24.424]}
          rotation={[Math.PI / 2, 0, 0]}
          scale={0.193}
        >
          <mesh name="Mesh004" geometry={nodes.Mesh004.geometry} material={materials.Logo} />
          <mesh
            name="Mesh004_1"
            geometry={nodes.Mesh004_1.geometry}
            material={materials.Material}
          />
        </group>
      </group>
    </group>
  );
}

useGLTF.preload('/models/landing/logo.glb');
